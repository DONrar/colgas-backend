<ion-header [translucent]="true">
  <ion-toolbar style="--background: #132440; --color: white;">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/" style="--color: white;"></ion-back-button>
    </ion-buttons>
    <ion-title>
      <ion-icon name="chatbubbles" style="color: #3B9797;"></ion-icon>
      &nbsp;Contacto
    </ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="compartirContacto()" style="--color: white;">
        <ion-icon name="share-social"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="contact-page">
  <!-- Refresher para actualizar -->
  <ion-refresher slot="fixed" (ionRefresh)="refrescar($event)">
    <ion-refresher-content
      pullingIcon="arrow-down"
      pullingText="Desliza para actualizar"
      refreshingSpinner="circles">
    </ion-refresher-content>
  </ion-refresher>

  <div class="container">

    <!-- Header con información principal -->
    <div class="contact-header animated-fade-in">
      <div class="company-logo">
        <div class="logo-container">
          <ion-icon name="flame" class="logo-icon"></ion-icon>
        </div>
        <div class="company-info">
          <h1>ColGas</h1>
          <p>Distribuidora Confiable</p>
          <ion-badge class="status-badge">
            <ion-icon name="checkmark-circle"></ion-icon>
            Abierto ahora
          </ion-badge>
        </div>
      </div>
    </div>

    <!-- Tarjeta de Información General Mejorada -->
    <ion-card class="card-elevated info-card animated-slide-up">
      <ion-card-header class="card-header-custom">
        <div class="card-header-content">
          <div class="header-icon-container primary">
            <ion-icon name="business"></ion-icon>
          </div>
          <div>
            <ion-card-title>Información de Contacto</ion-card-title>
            <ion-card-subtitle>Tu proveedor confiable de gas</ion-card-subtitle>
          </div>
        </div>
      </ion-card-header>

      <ion-card-content class="card-content">
        <ion-list class="custom-list">
          <!-- Dirección con mejor diseño -->
          <ion-item class="custom-item" button (click)="abrirMapa()" detail="true">
            <div class="item-icon-container danger" slot="start">
              <ion-icon name="location"></ion-icon>
            </div>
            <ion-label>
              <h3>Dirección Principal</h3>
              <p>Calle 5 #5-88, Barrio centro, Al respaldo del banco agrario</p>
              <p class="item-link">Ver en mapa →</p>
            </ion-label>
          </ion-item>

          <!-- Horario mejorado -->
          <ion-item class="custom-item">
            <div class="item-icon-container primary" slot="start">
              <ion-icon name="time"></ion-icon>
            </div>
            <ion-label>
              <h3>Horario de Atención</h3>
              <div class="schedule-grid">
                <div class="schedule-item">
                  <span class="days">Lun - Sáb</span>
                  <span class="hours">6:00 AM - 8:00 PM</span>
                </div>
                <div class="schedule-item">
                  <span class="days">Domingos</span>
                  <span class="hours">2:00 PM - 8:00 PM</span>
                </div>
              </div>
            </ion-label>
          </ion-item>

          <!-- Teléfono directo -->
          <ion-item class="custom-item" button (click)="llamar()" detail="true">
            <div class="item-icon-container success" slot="start">
              <ion-icon name="call"></ion-icon>
            </div>
            <ion-label>
              <h3>Teléfono Principal</h3>
              <p>+57 321 289 1040</p>
              <p class="item-link">Llamar ahora →</p>
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <!-- Tarjeta de Contacto Rápido -->
    <ion-card class="card-elevated action-card animated-slide-up" style="animation-delay: 0.1s;">
      <ion-card-header class="card-header-custom">
        <div class="card-header-content">
          <div class="header-icon-container accent">
            <ion-icon name="chatbubble-ellipses"></ion-icon>
          </div>
          <div>
            <ion-card-title>Contacto Rápido</ion-card-title>
            <ion-card-subtitle>Múltiples formas de contactarnos</ion-card-subtitle>
          </div>
        </div>
      </ion-card-header>

      <ion-card-content class="card-content">
        <div class="action-grid">
          <!-- Botón de Llamada -->
          <ion-button class="action-btn call-btn" expand="block" (click)="llamar()" shape="round">
            <div class="btn-content">
              <div class="btn-icon">
                <ion-icon name="call"></ion-icon>
              </div>
              <div class="btn-text">
                <span class="btn-title">Llamar</span>
                <span class="btn-subtitle">Contacto directo</span>
              </div>
            </div>
          </ion-button>

          <!-- Botones de WhatsApp en grid -->
          <div class="whatsapp-grid">
            <ion-button class="action-btn whatsapp-btn" expand="block" (click)="abrirWhatsApp()" shape="round">
              <div class="btn-content">
                <div class="btn-icon">
                  <ion-icon name="logo-whatsapp"></ion-icon>
                </div>
                <div class="btn-text">
                  <span class="btn-title">WhatsApp</span>
                  <span class="btn-subtitle">Servicio general</span>
                </div>
              </div>
            </ion-button>

            <ion-button class="action-btn whatsapp-express-btn" expand="block" (click)="abrirWhatsAppExpresos()" shape="round">
              <div class="btn-content">
                <div class="btn-icon">
                  <ion-icon name="logo-whatsapp"></ion-icon>
                </div>
                <div class="btn-text">
                  <span class="btn-title">WhatsApp</span>
                  <span class="btn-subtitle">Servicio express</span>
                </div>
              </div>
            </ion-button>
          </div>

          <!-- Botón de Email -->
          <ion-button class="action-btn email-btn" expand="block" (click)="enviarEmail()" shape="round">
            <div class="btn-content">
              <div class="btn-icon">
                <ion-icon name="mail"></ion-icon>
              </div>
              <div class="btn-text">
                <span class="btn-title">Email</span>
                <span class="btn-subtitle">expresmultisoluciones
                  cachipay@gmail.com</span>
              </div>
            </div>
          </ion-button>
        </div>
      </ion-card-content>
    </ion-card>

    <!-- Tarjeta de Ubicación Mejorada -->
    <ion-card class="card-elevated location-card animated-slide-up" style="animation-delay: 0.2s;">
      <ion-card-header class="card-header-custom">
        <div class="card-header-content">
          <div class="header-icon-container warning">
            <ion-icon name="map"></ion-icon>
          </div>
          <div>
            <ion-card-title>Nuestra Ubicación</ion-card-title>
            <ion-card-subtitle>Visítanos en nuestro punto de venta</ion-card-subtitle>
          </div>
        </div>
      </ion-card-header>

      <ion-card-content class="card-content">
        <!-- Mapa placeholder mejorado -->
        <div class="map-container" (click)="abrirMapa()">
          <div class="map-placeholder">
            <div class="map-overlay">
              <ion-icon name="location" class="map-pin"></ion-icon>
              <h3>ColGas Cachipay - Distribuidora</h3>
              <p>Calle 5 #5-88, Barrio centro, Al respaldo del banco agrario.</p>
            </div>
            <div class="map-gradient"></div>
          </div>
        </div>

        <!-- Información de ubicación -->
        <div class="location-info">
          <div class="info-item">
            <ion-icon name="navigate" class="info-icon"></ion-icon>
            <div class="info-text">
              <h4>Fácil Acceso</h4>
              <p>Zona comercial con parqueadero</p>
            </div>
          </div>

          <div class="info-item">
            <ion-icon name="time" class="info-icon"></ion-icon>
            <div class="info-text">
              <h4>Tiempo de Espera</h4>
              <p>Máximo 15 minutos</p>
            </div>
          </div>
        </div>

        <ion-button class="map-action-btn" expand="block" (click)="abrirMapa()" shape="round" fill="solid">
          <ion-icon slot="start" name="navigate"></ion-icon>
          Cómo Llegar
        </ion-button>
      </ion-card-content>
    </ion-card>

    <!-- Información Adicional -->
    <ion-card class="card-elevated info-card animated-slide-up" style="animation-delay: 0.3s;">
      <ion-card-header class="card-header-custom">
        <ion-card-title>Información Adicional</ion-card-title>
      </ion-card-header>

      <ion-card-content class="card-content">
        <div class="additional-info">
          <div class="info-chip">
            <ion-icon name="shield-checkmark"></ion-icon>
            <span>Garantía en todos nuestros productos</span>
          </div>
          <div class="info-chip">
            <ion-icon name="car"></ion-icon>
            <span>Delivery gratuito en la zona</span>
          </div>
          <div class="info-chip">
            <ion-icon name="card"></ion-icon>
            <span>Aceptamos todos los medios de pago</span>
          </div>
        </div>
      </ion-card-content>
    </ion-card>

  </div>

  <!-- FAB para contacto rápido -->
  <ion-fab slot="fixed" vertical="bottom" horizontal="end">
    <ion-fab-button class="fab-primary" (click)="llamar()">
      <ion-icon name="call"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
