<ion-content class="login-content">
  <div class="login-container">
    <ion-card class="login-card">
      <ion-card-header>
        <div class="login-icon">
          <ion-icon name="lock-closed-outline"></ion-icon>
        </div>
        <ion-card-title>Panel Administrativo</ion-card-title>
        <p class="login-subtitle">Ingresa tus credenciales</p>
      </ion-card-header>

      <ion-card-content>
        <form (ngSubmit)="onLogin()">
          <ion-item lines="full" class="input-item">
            <ion-icon name="person-outline" slot="start"></ion-icon>
            <ion-input
              type="text"
              placeholder="Usuario"
              [(ngModel)]="username"
              name="username"
              [disabled]="isLoading()"
              autocomplete="username"
            ></ion-input>
          </ion-item>

          <ion-item lines="full" class="input-item">
            <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
            <ion-input
              type="password"
              placeholder="Contraseña"
              [(ngModel)]="password"
              name="password"
              [disabled]="isLoading()"
              autocomplete="current-password"
            ></ion-input>
          </ion-item>

          @if (errorMessage()) {
            <ion-text color="danger">
              <p class="error-message">{{ errorMessage() }}</p>
            </ion-text>
          }

          <ion-button
            expand="block"
            type="submit"
            class="login-button"
            [disabled]="isLoading()"
          >
            @if (isLoading()) {
              <ion-spinner name="crescent"></ion-spinner>
            } @else {
              <ion-icon name="log-in-outline" slot="start"></ion-icon>
              Iniciar Sesión
            }
          </ion-button>
        </form>

        <div class="session-info">
          <ion-text color="medium">
            <p>
              <ion-icon name="time-outline"></ion-icon>
              La sesión expira en 24 horas
            </p>
          </ion-text>
        </div>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
